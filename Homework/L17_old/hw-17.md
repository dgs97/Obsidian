Домашнее задание №17

Цель: получить практический опыт написания SQL- запросов 

Задание 1:

Вводные данные
Есть таблица анализов Analysis:
    • an_id — ID анализа;
    • an_name — название анализа;
    • an_cost — себестоимость анализа;
    • an_price — розничная цена анализа;
    • an_group — группа анализов.
Есть таблица групп анализов Groups:
    • gr_id — ID группы;
    • gr_name — название группы;
    • gr_temp — температурный режим хранения.
Есть таблица заказов Orders:
    • ord_id — ID заказа;
    • ord_datetime — дата и время заказа;
    • ord_an — ID анализа.
Далее мы будем работать с этими таблицами.
Формулировка: вывести название и цену для всех анализов, которые продавались 5 февраля 2020 и всю следующую неделю.

```sql
SELECT 
    Analysis.an_name, 
    Analysis.an_price
FROM 
    Orders
JOIN 
    Analysis ON Orders.ord_an = Analysis.an_id
WHERE 
    Orders.ord_datetime >= '2020-02-05' 
    AND Orders.ord_datetime < '2020-02-12'
ORDER BY 
    Orders.ord_datetime;

```



Задание 2(опционально):
Используя left join, напишите запрос, который будет выводить список всех студентов и названий их курсов, которые они изучают. Если у студента нет курсов, то вместо названия курса нужно выводить NULL. Для этого вам необходимо связать таблицы "Студенты" и "Курсы".

Задание 3:
Шаги:
    1. Создайте бэкап базы данных. Для этого используйте команду "mysqldump" для создания полного дампа базы данных. Сохраните файл дампа в безопасном месте, таком как внешний жесткий диск или облачное хранилище.
    2. Измените какие-либо данные в базе данных, например, добавьте новую таблицу или обновите информацию в существующей таблице.
    3. Восстановите базу данных из бэкапа, чтобы вернуть ее в исходное состояние. Для этого используйте команду "mysql" и укажите имя базы данных и файл дампа для восстановления.
    4. Убедитесь, что база данных была восстановлена успешно, проверив данные и таблицы в базе данных.
    5. Создайте скрипт, который будет автоматически создавать бэкап базы данных и отправлять его на удаленный сервер для хранения. Например, вы можете использовать инструмент "cron" для регулярного создания бэкапов и передачи их на удаленный сервер по расписанию.


```sql
CREATE DATABASE mydatabase;
CREATE USER 'myuser'@'localhost' IDENTIFIED BY 'your_password';
GRANT ALL PRIVILEGES ON mydatabase.* TO 'myuser'@'localhost';
FLUSH PRIVILEGES;
```
Теперь вы можете использовать `myuser` вместо `root` для работы с БД.

Если вы хотите, чтобы пользователь мог подключаться удалённо:
```sql
GRANT ALL PRIVILEGES ON mydatabase.* TO 'myuser'@'%' IDENTIFIED BY 'your_password';
FLUSH PRIVILEGES;
```