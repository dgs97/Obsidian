**Домашнее задание №****23**

**Цель:** **получить практический опыт работы** **c** **D****ocker****-командами**

---

**Задание 1: Запуск** **экземпляров приложения с подключением томов и сети**

Цель этого задания - ознакомиться с основами работы с Docker volumes и Docker network. Также вы научитесь использовать команду **docker** **logs**

Шаги:

- Найдите на Docker Hub образ, который вы хотите запустить на вашей машине.
- Используя команду docker run, запустите контейнер на основе этого образа. Добавьте флаги, чтобы установить имя контейнера, перенаправить порты, установить переменные окружения и т.д. Используйте команду docker ps, чтобы убедиться, что контейнер запущен.

```bash
docker run -d --name my-nginx -p 1235:8080 nginx-debian:latest
```

![](screenshots/Pasted%20image%2020250607201616.png)

- Создайте Docker volume с помощью команды **docker volume create**.

```bash
docker volume create nginx_data
```

- Запустите контейнер, используя команду **docker** **run**, и подключите созданный Docker volume к контейнеру.

```bash
docker run -d --name my-nginx -v nginx_data:/usr/share/nginx/html -p 1235:8080 nginx-debian:latest
```

- Используйте команду **docker** **network** **create** для создания новой Docker network.

```bash
docker network create my_network
```

![](screenshots/Pasted%20image%2020250607202246.png)

---

Опционально:

- Создайте второй контейнер из того же образа, используя команду **docker** **run**, и подключите его к созданной Docker network.

```bash
docker run -d --name my-nginx2 -v nginx_data:/usr/share/nginx/html -p 1236:8080 nginx-debian:latest
```

- Внутри первого контейнера, используя утилиту **nano**, создайте текстовый файл в подключенном Docker volume.

```bash
docker exec -it my-nginx2 bash
```

![](screenshots/Pasted%20image%2020250607211012.png)

- Внутри первого контейнера, используя утилиту **logger**, запишите несколько сообщений в созданный текстовый файл.

```bash
logger "Tst msg_1"
logger "Tst msg_2"
logger "Tst msg_3"
```

- Используйте команду **docker** **logs** для просмотра логов первого контейнера и убедитесь, что сообщения были успешно записаны в лог-файл. 

```bash
docker logs my-tomcat
```

![](screenshots/Pasted%20image%2020250607205500.png)

- Используйте команду **docker** **exec** для выполнения команды во втором контейнере и проверьте, что созданный текстовый файл доступен из второго контейнера.

![](screenshots/Pasted%20image%2020250607211039.png)

- Используйте команду **docker** **stop** для остановки обоих контейнеров.

```bash
docker stop $(docker ps -aq)
```

![](screenshots/Pasted%20image%2020250607211231.png)

- Используйте команду **docker** **rm** для удаления контейнеров и команду **docker** **rmi** для удаления образа.

```bash
docker rm $(docker ps -aq)
```

```bash
docker rmi $(docker images -q)
```

- Используйте команду **docker** **volume** **rm** для удаления Docker volume и команду **docker** **network** **rm** для удаления Docker network.

```bash
docker volume rm my-named-volume
```

```bash
docker network rm my-custom-network
```

---


