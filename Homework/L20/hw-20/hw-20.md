**Домашнее задание №****20**

**Цель:** настроить Ansible окружение на вашей машине, чтобы вы могли использовать его для автоматизации управления конфигурацией и развертывания приложений на удаленных серверах.

---

**Задание: Настройка** **Ansible** **окружения**

Шаги:

1. Установите Ansible на вашу локальную машину. В зависимости от операционной системы, которую вы используете, установка может отличаться. Инструкции по установке Ansible можно найти на официальном сайте: [https://docs.ansible.com/ansible/latest/installation_guide/index.html](https://docs.ansible.com/ansible/latest/installation_guide/index.html)

![](screenshots/Pasted%20image%2020250530200843.png)

---

2. Создайте инвентарный файл, который содержит информацию о серверах, которые вы планируете управлять с помощью Ansible. Инвентарный файл может быть в формате ini или YAML. Например:

```ini
[servers_internet]
linux1 ansible_host=77.110.122.222
[servers_local]
linux2 ansible_host=192.168.122.177
```

---

3. Создайте файл конфигурации Ansible, который будет содержать глобальные настройки Ansible. Файл конфигурации Ansible может быть расположен в нескольких местах, включая каталоги /etc/ansible и ~/.ansible/. Например:

```ini
[defaults]
host_key_checking = false
ansible_use = svd
ansible_ssh_key_file = /home/svd/.ssh/id_rsa
interpreter_python = /usr/bin/python3.12
inventory = ./hosts.txt```

---

4. Создайте простой плейбук Ansible, который будет выполнять простую задачу на одном из ваших серверов. Например, вы можете создать плейбук, который устанавливает пакеты на сервере. Пример:

```yml
---
- name: Install packages
  hosts: servers_local
  become: true
  tasks:

  - name: Install Nginx
    apt:
      name: nginx
      state: present
```

  
В этом примере мы создаем плейбук, который устанавливает пакет Nginx на всех серверах, определенных в инвентарном файле. Мы также указываем, что Ansible должен использовать привилегии root для выполнения

Запуск `playbook` по установке `nginx`:

![](screenshots/Pasted%20image%2020250531003312.png)