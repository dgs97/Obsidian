### Задание 1: Безопасность и отчетность

**Цель:** Обезопасить процесс сборки и научиться работать с "секретами" в Jenkins.

**Что сделать:**

1.  **Настрой безопасность агента.** При настройке SSH-агента (из задания 30-2) ты уже использовал ключ. Это и есть базовый уровень безопасности. Убедись, что пользователь, под которым Jenkins подключается к агенту, имеет ограниченные права.

2.  **Создай "секрет" (Credential).**

      * Допустим, для деплоя тебе нужен токен. Не храни его в `Jenkinsfile`\!
      * Зайди в `Управление Jenkins` -\> `Credentials`. Добавь новый `Secret text`.
      * `ID` задай, например, `deploy-token`. В `Secret` вставь любое выдуманное значение.

3.  **Используй "секрет" в пайплайне.**

      * Оберни стадию `Deploy` в блок `withCredentials`.
      * Внутри блока переменная `DEPLOY_TOKEN` будет содержать твой секрет, но в логах он будет заменен на `****`.

    <!-- end list -->

    ```groovy
    stage('Deploy') {
        steps {
            withCredentials([string(credentialsId: 'deploy-token', variable: 'DEPLOY_TOKEN')]) {
                sh 'echo "Deploying with token ****"' // На самом деле будет использован реальный токен
                sh 'echo "My token is ${DEPLOY_TOKEN}"' 
            }
        }
    }
    ```

4.  **Архивация артефактов.** После успешной сборки сохрани собранный файл (например, `.jar` или `.war`) прямо в Jenkins. Добавь в `post` блок шаг `archiveArtifacts`.

**Что должно получиться:**

  * Скриншот настроек `Credential` в Jenkins.
  * `Jenkinsfile` с блоком `withCredentials`.
  * Скриншот лога сборки, где видно, что секретная переменная скрыта (`****`).
  * Скриншот страницы сборки, где появился "артефакт сборки" для скачивания.