## Домашнее задание №19

Цель: получить практический опыт работы с системой управления конфигурацией Ansible
! перед началом работы с Ansible, разверните еще одну виртуальную машину,которая будет менеджиться с помощью него. 

---

## Задание 1: установить Ansible

Обновите список пакетов:

```bash
sudo apt update
```

Установите пакет software-properties-common, который позволит добавлять репозитории:

```bash
sudo apt install software-properties-common
```

Добавьте репозиторий Ansible PPA:

```bash
sudo apt-add-repository ppa:ansible/ansible
```

Обновите список пакетов:

```bash
sudo apt update
```

Установите Ansible:

```bash
sudo apt install ansible
```

![](screenshots/Pasted%20image%2020250521211942.png)

---

## Задание 2: сгенерировать SSH-ключ 

- Откройте терминал на вашем контролирующем хосте.
- Запустите команду для генерации ключа:

```bash
ssh-keygen -t rsa -b 4096
```

При выполнении этой команды вам будет предложено ввести путь к файлу, в котором будет сохранен ключ, а также парольная фраза (пароль не обязателен, но рекомендуется).
После того, как ключ будет сгенерирован, скопируйте его на управляемый хост:

```bash
ssh-copy-id user@managed_host
```

![](screenshots/Pasted%20image%2020250521212413.png)

- После успешной передачи ключа на управляемый хост вы можете использовать Ansible для управления им.

---

## Задание 3: просмотрите и повторите все манипуляции, указанные в видеоуроке по ссылке

В данном [ролике](https://www.youtube.com/watch?v=O5R6EBdaZZg&list=PLg5SS_4L6LYufspdPupdynbMQTBnZd31N&index=4) рассматривается шаги подключения к серверам Linux. 

```bash
mkdir ansible
cd ansible
```

``nano ansible.cfg``
```bash
[defaults]
host_key_checking = false
inventory	      = ./hosts.txt
```

``mkdir hosts.txt``
```bash
[staging_servers]
linux1 ansible_host=77.110.122.222 ansible_user=svd ansible_ssh_key_file=/home/svd/.ssh/id_rsa
[prod_servers]
linux2 ansible_host=192.168.122.177 ansible_user=svd ansible_ssh_key_file=/home/svd/.ssh/id_rsa
```

```bash
ansible all -m ping
```

![](screenshots/Pasted%20image%2020250521222435.png)

---